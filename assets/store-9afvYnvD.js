import{r as P,R as ot}from"./index-2q2OBrW7.js";var A={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let rt=0;function W(t,n){const d=`atom${++rt}`,h={toString:()=>d};return typeof t=="function"?h.read=t:(h.init=t,h.read=function(g){return g(this)},h.write=function(g,f,w){return f(this,typeof w=="function"?w(g(this)):w)}),n&&(h.write=n),h}const D=t=>"init"in t,L=t=>!!t.write,N=new WeakMap,st=(t,n)=>{N.set(t,n),t.catch(()=>{}).finally(()=>N.delete(t))},Y=(t,n)=>{const d=N.get(t);d&&(N.delete(t),d(n))},G=(t,n)=>{t.status="fulfilled",t.value=n},H=(t,n)=>{t.status="rejected",t.reason=n},it=t=>typeof(t==null?void 0:t.then)=="function",O=(t,n)=>!!t&&"v"in t&&"v"in n&&Object.is(t.v,n.v),K=(t,n)=>!!t&&"e"in t&&"e"in n&&Object.is(t.e,n.e),M=t=>!!t&&"v"in t&&t.v instanceof Promise,ut=(t,n)=>"v"in t&&"v"in n&&t.v.orig&&t.v.orig===n.v.orig,T=t=>{if("e"in t)throw t.e;return t.v},ct=()=>{const t=new WeakMap,n=new WeakMap,d=new Map;let h,g;(A?"production":void 0)!=="production"&&(h=new Set,g=new Set);const f=e=>t.get(e),w=(e,r)=>{(A?"production":void 0)!=="production"&&Object.freeze(r);const i=t.get(e);if(t.set(e,r),d.has(e)||d.set(e,i),M(i)){const o="v"in r?r.v instanceof Promise?r.v:Promise.resolve(r.v):Promise.reject(r.e);i.v!==o&&Y(i.v,o)}},v=(e,r,i)=>{const o=new Map;let u=!1;i.forEach((l,s)=>{!l&&s===e&&(l=r),l?(o.set(s,l),r.d.get(s)!==l&&(u=!0)):(A?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(u||r.d.size!==o.size)&&(r.d=o)},_=(e,r,i)=>{const o=f(e),u={d:(o==null?void 0:o.d)||new Map,v:r};if(i&&v(e,u,i),O(o,u)&&o.d===u.d)return o;if(M(o)&&M(u)&&ut(o,u)){if(o.d===u.d)return o;u.v=o.v}return w(e,u),u},E=(e,r,i,o)=>{if(it(r)){let u;const l=()=>{const c=f(e);if(!M(c)||c.v!==s)return;const S=_(e,s,i);n.has(e)&&c.d!==S.d&&q(e,S,c.d)},s=new Promise((c,S)=>{let a=!1;r.then(p=>{a||(a=!0,G(s,p),c(p),l())},p=>{a||(a=!0,H(s,p),S(p),l())}),u=p=>{a||(a=!0,p.then(m=>G(s,m),m=>H(s,m)),c(p))}});return s.orig=r,s.status="pending",st(s,c=>{c&&u(c),o==null||o()}),_(e,s,i)}return _(e,r,i)},b=(e,r,i)=>{const o=f(e),u={d:(o==null?void 0:o.d)||new Map,e:r};return i&&v(e,u,i),K(o,u)&&o.d===u.d?o:(w(e,u),u)},y=(e,r)=>{const i=f(e);if(!r&&i&&(n.has(e)||Array.from(i.d).every(([a,p])=>{if(a===e)return!0;const m=y(a);return m===p||O(m,p)})))return i;const o=new Map;let u=!0;const l=a=>{if(a===e){const m=f(a);if(m)return o.set(a,m),T(m);if(D(a))return o.set(a,void 0),a.init;throw new Error("no atom init")}const p=y(a);return o.set(a,p),T(p)};let s,c;const S={get signal(){return s||(s=new AbortController),s.signal},get setSelf(){return(A?"production":void 0)!=="production"&&!L(e)&&console.warn("setSelf function cannot be used with read-only atom"),!c&&L(e)&&(c=(...a)=>{if((A?"production":void 0)!=="production"&&u&&console.warn("setSelf function cannot be called in sync"),!u)return I(e,...a)}),c}};try{const a=e.read(l,S);return E(e,a,o,()=>s==null?void 0:s.abort())}catch(a){return b(e,a,o)}finally{u=!1}},z=e=>T(y(e)),tt=e=>{let r=n.get(e);return r||(r=j(e)),r},C=(e,r)=>!r.l.size&&(!r.t.size||r.t.size===1&&r.t.has(e)),et=e=>{const r=n.get(e);r&&C(e,r)&&V(e)},$=e=>{const r=new Map,i=new WeakMap,o=s=>{var c;const S=new Set((c=n.get(s))==null?void 0:c.t);return d.forEach((a,p)=>{var m;(m=f(p))!=null&&m.d.has(s)&&S.add(p)}),S},u=s=>{o(s).forEach(c=>{c!==s&&(r.set(c,(r.get(c)||new Set).add(s)),i.set(c,(i.get(c)||0)+1),u(c))})};u(e);const l=s=>{o(s).forEach(c=>{var S;if(c!==s){let a=i.get(c);if(a&&i.set(c,--a),!a){let p=!!((S=r.get(c))!=null&&S.size);if(p){const m=f(c),nt=y(c,!0);p=!O(m,nt)}p||r.forEach(m=>m.delete(c))}l(c)}})};l(e)},F=(e,...r)=>{let i=!0;const o=s=>T(y(s)),u=(s,...c)=>{let S;if(s===e){if(!D(s))throw new Error("atom not writable");const a=f(s),p=E(s,c[0]);O(a,p)||$(s)}else S=F(s,...c);if(!i){const a=R();(A?"production":void 0)!=="production"&&h.forEach(p=>p({type:"async-write",flushed:a}))}return S},l=e.write(o,u,...r);return i=!1,l},I=(e,...r)=>{const i=F(e,...r),o=R();return(A?"production":void 0)!=="production"&&h.forEach(u=>u({type:"write",flushed:o})),i},j=(e,r,i)=>{var o;const u=i||[];(o=f(e))==null||o.d.forEach((s,c)=>{const S=n.get(c);S?S.t.add(e):c!==e&&j(c,e,u)}),y(e);const l={t:new Set(r&&[r]),l:new Set};if(n.set(e,l),(A?"production":void 0)!=="production"&&g.add(e),L(e)&&e.onMount){const{onMount:s}=e;u.push(()=>{const c=s((...S)=>I(e,...S));c&&(l.u=c)})}return i||u.forEach(s=>s()),l},V=e=>{var r;const i=(r=n.get(e))==null?void 0:r.u;i&&i(),n.delete(e),(A?"production":void 0)!=="production"&&g.delete(e);const o=f(e);o?(M(o)&&Y(o.v),o.d.forEach((u,l)=>{if(l!==e){const s=n.get(l);s&&(s.t.delete(e),C(l,s)&&V(l))}})):(A?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",e)},q=(e,r,i)=>{const o=new Set(r.d.keys()),u=new Set;i==null||i.forEach((l,s)=>{if(o.has(s)){o.delete(s);return}u.add(s);const c=n.get(s);c&&c.t.delete(e)}),o.forEach(l=>{const s=n.get(l);s?s.t.add(e):n.has(e)&&j(l,e)}),u.forEach(l=>{const s=n.get(l);s&&C(l,s)&&V(l)})},R=()=>{let e;for((A?"production":void 0)!=="production"&&(e=new Set);d.size;){const r=Array.from(d);d.clear(),r.forEach(([i,o])=>{const u=f(i);if(u){const l=n.get(i);l&&u.d!==(o==null?void 0:o.d)&&q(i,u,o==null?void 0:o.d),l&&!(!M(o)&&(O(o,u)||K(o,u)))&&(l.l.forEach(s=>s()),(A?"production":void 0)!=="production"&&e.add(i))}else(A?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush")})}if((A?"production":void 0)!=="production")return e},x=(e,r)=>{const i=tt(e),o=R(),u=i.l;return u.add(r),(A?"production":void 0)!=="production"&&h.forEach(l=>l({type:"sub",flushed:o})),()=>{u.delete(r),et(e),(A?"production":void 0)!=="production"&&h.forEach(l=>l({type:"unsub"}))}};return(A?"production":void 0)!=="production"?{get:z,set:I,sub:x,dev_subscribe_store:(e,r)=>{if(r!==2)throw new Error("The current StoreListener revision is 2.");return h.add(e),()=>{h.delete(e)}},dev_get_mounted_atoms:()=>g.values(),dev_get_atom_state:e=>t.get(e),dev_get_mounted:e=>n.get(e),dev_restore_atoms:e=>{for(const[i,o]of e)D(i)&&(E(i,o),$(i));const r=R();h.forEach(i=>i({type:"restore",flushed:r}))}}:{get:z,set:I,sub:x}};let U;(A?"production":void 0)!=="production"&&(typeof globalThis.__NUMBER_OF_JOTAI_INSTANCES__=="number"?++globalThis.__NUMBER_OF_JOTAI_INSTANCES__:globalThis.__NUMBER_OF_JOTAI_INSTANCES__=1);const X=()=>(U||((A?"production":void 0)!=="production"&&globalThis.__NUMBER_OF_JOTAI_INSTANCES__!==1&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"),U=ct()),U);var dt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const lt=P.createContext(void 0),Z=t=>{const n=P.useContext(lt);return(t==null?void 0:t.store)||n||X()},ft=t=>typeof(t==null?void 0:t.then)=="function",at=ot.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(n=>{t.status="fulfilled",t.value=n},n=>{t.status="rejected",t.reason=n}),t)});function vt(t,n){const d=Z(n),[[h,g,f],w]=P.useReducer(E=>{const b=d.get(t);return Object.is(E[0],b)&&E[1]===d&&E[2]===t?E:[b,d,t]},void 0,()=>[d.get(t),d,t]);let v=h;(g!==d||f!==t)&&(w(),v=d.get(t));const _=n==null?void 0:n.delay;return P.useEffect(()=>{const E=d.sub(t,()=>{if(typeof _=="number"){setTimeout(w,_);return}w()});return w(),E},[d,t,_]),P.useDebugValue(v),ft(v)?at(v):v}function ht(t,n){const d=Z(n);return P.useCallback((...g)=>{if((dt?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return d.set(t,...g)},[d,t])}function mt(t,n){return[vt(t,n),ht(t,n)]}var Q={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const wt=Symbol((Q?"production":void 0)!=="production"?"RESET":""),B=(t,n,d)=>(n.has(d)?n:n.set(d,t())).get(d),_t=new WeakMap,pt=(t,n,d,h)=>{const g=B(()=>new WeakMap,_t,n),f=B(()=>new WeakMap,g,d);return B(t,f,h)};function yt(t,n,d=Object.is){return pt(()=>{const h=Symbol(),g=([w,v])=>{if(v===h)return n(w);const _=n(w,v);return d(v,_)?v:_},f=W(w=>{const v=w(f),_=w(t);return _ instanceof Promise||v instanceof Promise?Promise.all([_,v]).then(g):g([_,v])});return f.init=h,f},t,n,d)}const gt=t=>typeof(t==null?void 0:t.then)=="function";function Et(t=()=>typeof window<"u"?window.localStorage:void 0,n){let d,h;const g={getItem:(f,w)=>{var v,_;const E=y=>{if(y=y||"",d!==y){try{h=JSON.parse(y,n==null?void 0:n.reviver)}catch{return w}d=y}return h},b=(_=(v=t())==null?void 0:v.getItem(f))!=null?_:null;return gt(b)?b.then(E):E(b)},setItem:(f,w)=>{var v;return(v=t())==null?void 0:v.setItem(f,JSON.stringify(w,n==null?void 0:n.replacer))},removeItem:f=>{var w;return(w=t())==null?void 0:w.removeItem(f)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(g.subscribe=(f,w,v)=>{if(!(t()instanceof window.Storage))return()=>{};const _=E=>{if(E.storageArea===t()&&E.key===f){let b;try{b=JSON.parse(E.newValue||"")}catch{b=v}w(b)}};return window.addEventListener("storage",_),()=>{window.removeEventListener("storage",_)}}),g}const St=Et();function Mt(t,n,d=St,h){const g=h==null?void 0:h.getOnInit,f=W(g?d.getItem(t,n):n);return(Q?"production":void 0)!=="production"&&(f.debugPrivate=!0),f.onMount=v=>{g||v(d.getItem(t,n));let _;return d.subscribe&&(_=d.subscribe(t,v,n)),_},W(v=>v(f),(v,_,E)=>{const b=typeof E=="function"?E(v(f)):E;return b===wt?(_(f,n),d.removeItem(t)):b instanceof Promise?b.then(y=>(_(f,y),d.setItem(t,y))):(_(f,b),d.setItem(t,b))})}let k,J=Symbol(),At=()=>{if(k)return k;if(globalThis[J])return globalThis[J];let t=X();return k=t,globalThis[J]=t,t};const Pt=At();export{W as a,Mt as b,ht as c,Z as d,mt as e,Pt as j,At as r,yt as s,vt as u};
