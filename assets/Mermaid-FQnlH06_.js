import{r as t,_ as x,j as s}from"./index-2q2OBrW7.js";import{u as y}from"./Markdown-qSeObF0f.js";import{u as w,F as k}from"./Gallery-zzCHNjwo.js";import"./helper-DD-oFgKI.js";import"./FloatPopover-rxXbqpu5.js";import"./spring-rk-u5Py4.js";import"./use-is-client-WJnkEjfX.js";import"./env-y9k74Ds6.js";import"./index-ps3YIoJ2.js";import"./motion-minimal-ZKgXd32B.js";import"./visual-element-t4Jm4A0f.js";import"./LinkCard-3msP1lE5.js";import"./Divider-k72C6mVS.js";import"./StyledButton-EhNGyMmL.js";import"./index-OVDJ2T7o.js";import"./owner-3VDxqrBW.js";import"./store-9afvYnvD.js";import"./SocialSourceLink-z6GudVnb.js";import"./Collapse-L-Kbe3tt.js";const J=n=>{const[E,m]=t.useState(!0),[v,a]=t.useState(""),[c,u]=t.useState(""),[_,l]=t.useState(),[h,p]=t.useState(),f=y();t.useEffect(()=>{x(()=>import("./mermaid.core-XP3jbvWP.js").then(r=>r.b4),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url).then(async r=>{r.default.initialize({theme:f?"dark":"default"})})},[f]);const d=t.useId().split(":").join("");t.useEffect(()=>{if(!n.content)return;a(""),m(!0);let r=!1;x(()=>import("./mermaid.core-XP3jbvWP.js").then(i=>i.b4),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url).then(async i=>{var g;const I=i.default;let o;try{o=await I.render(`mermaid-${d}`,n.content)}catch(e){(g=document.getElementById(`dmermaid-${d}`))==null||g.remove(),e instanceof Error&&a(e.message),u(""),l(void 0),p(void 0)}if(!r){if(o){u(o.svg);const e=o.svg.match(/viewBox="[^"]*\s([\d.]+)\s([\d.]+)"/);e!=null&&e[1]&&(e!=null&&e[2])&&(l(parseInt(e==null?void 0:e[1])),p(parseInt(e==null?void 0:e[2]))),a("")}return m(!1),()=>{r=!0}}})},[d,n.content]);const{w:S}=w(),b=new TextEncoder().encode(c),j=`data:image/svg+xml;base64,${btoa(String.fromCharCode(...new Uint8Array(b)))}`;return E?s.jsx("div",{className:"flex min-h-[50px] items-center justify-center rounded-lg bg-slate-100 text-sm dark:bg-neutral-800",children:"Mermaid Loading..."}):c?s.jsx("div",{children:s.jsx(k,{containerWidth:S,src:j,width:_,height:h})}):s.jsx("div",{className:"flex min-h-[50px] items-center justify-center rounded-lg bg-red-100 text-sm",children:v||"Error"})};export{J as Mermaid};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./mermaid.core-XP3jbvWP.js","./index-2q2OBrW7.js","./index-YWpo0GQ6.css","./owner-3VDxqrBW.js","./env-y9k74Ds6.js","./store-9afvYnvD.js","./helper-DD-oFgKI.js","./StyledButton-EhNGyMmL.js","./index-OVDJ2T7o.js","./motion-minimal-ZKgXd32B.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
